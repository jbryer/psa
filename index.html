<!DOCTYPE HTML>
<html lang="en-US" manifest="./manifest.appcache">
    <head prefix="og: http://ogp.me/ns# book: http://ogp.me/ns/book#">
        
        <meta charset="UTF-8">
        <title>Introduction | Applied Propensity Score Analysis with R</title>

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="robots" content="index, follow">
        <meta name="author" content="jbryer">
        <meta name="description" content="Author: Jason Bryer (&lt;jason@bryer.org&gt;)  
Website: http://jason.bryer.org/psa/  
Github Repository: https://github.com/jbryer/psa  ">
        <meta name="keywords" content="gitbook,github" >
        <meta name="generator" content="www.gitbook.io">

        
        <link rel="next" href="./intro/intro.html" />
        
        

        <meta property="og:title" content="Introduction | Applied Propensity Score Analysis with R">
        <meta property="og:site_name" content="Applied Propensity Score Analysis with R">
        <meta property="og:type" content="book">
        <meta property="og:locale" content="en_US">

        <meta property="book:author" content="https://github.com/jbryer">
        <meta property="book:tag" content="GitBook">

        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">

        <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">
        
    </head>
    <body>
        

        <link rel="stylesheet" href="gitbook/style.css">
        


        
    <div class="book" data-github="jbryer/psa" data-level="0" data-basepath="." data-revision="1399308668569">
    <div class="book-header">
    <!-- Actions Left -->
    
    <a href="https://github.com/jbryer/psa" target="_blank" class="btn pull-left"><i class="fa fa-bookmark-o"></i></a>
    
    <a href="#" class="btn pull-left toggle-summary"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search"><i class="fa fa-search"></i></a>
    <span id="font-settings-wrapper">
        <a href="#" class="btn pull-left toggle-font-settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
	<div class="dropdown-caret">
  <span class="caret-outer"></span>
  <span class="caret-inner"></span>
</div>

	<div class="btn-group btn-block">
		<button id="reduce-font-size" class="btn btn-default">A</button>
		<button id="enlarge-font-size" class="btn btn-default">A</button>
	</div>

	<ul class="list-group font-family-list">
		<li class="list-group-item" data-font="0">Serif</li>
		<li class="list-group-item" data-font="1">Sans</li>
	</ul>

	<div class="btn-group btn-group-xs btn-block color-theme-list">
	  <button type="button" class="btn btn-default" id="color-theme-preview-0" data-theme="0">White</button>
	  <button type="button" class="btn btn-default" id="color-theme-preview-1" data-theme="1">Sepia</button>
	  <button type="button" class="btn btn-default" id="color-theme-preview-2" data-theme="2">Night</button>
	</div>
</div>

    </span>

    <!-- Actions Right -->
    
    <a href="#" target="_blank" class="btn pull-right" data-sharing="google-plus"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right" data-sharing="facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right" data-sharing="twitter"><i class="fa fa-twitter"></i></a>
    

    
    <a href="https://github.com/jbryer/psa/stargazers" target="_blank" class="btn pull-right count-star hidden-xs"><i class="fa fa-star-o"></i> Star (<span>-</span>)</a>
    <a href="https://github.com/jbryer/psa/watchers" target="_blank" class="btn pull-right count-watch hidden-xs"><i class="fa fa-eye"></i> Watch (<span>-</span>)</a>
    

    <!-- Title -->
    <h1>
        <i class="fa fa-spinner fa-spin"></i>
        <a href="./" >Applied Propensity Score Analysis with R</a>
    </h1>
</div>

    <div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Search" class="form-control" />
    </div>
    <ul class="summary">
        
        <li>
            <a href="http://jason.bryer.org/about.html" target="blank">About the author</a>
        </li>
        

        
        <li>
            <a href="https://github.com/jbryer/psa/issues" target="blank">Questions and Issues</a>
        </li>
        

        

        
        <li class="divider"></li>
        

        <li data-level="0" data-path="index.html">
            <a href="./index.html"><i class="fa fa-check"></i> Introduction</a>
        </li>
        
            <li  data-level="1" data-path="intro/intro.html">
                
                <a href="./intro/intro.html">
                    <i class="fa fa-check"></i> <b>1.</b> Overview
                </a>
                
                
                <ul class="articles">
                    
                        <li  data-level="1.1" data-path="intro/experiments.html">
                            
                            <a href="./intro/experiments.html">
                                <i class="fa fa-check"></i> <b>1.1.</b> Randomize Experiments
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.2" data-path="intro/estimating.html">
                            
                            <a href="./intro/estimating.html">
                                <i class="fa fa-check"></i> <b>1.2.</b> Estimating Propensity Scores
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.3" data-path="intro/stratification.html">
                            
                            <a href="./intro/stratification.html">
                                <i class="fa fa-check"></i> <b>1.3.</b> Stratification
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.4" data-path="intro/matching.html">
                            
                            <a href="./intro/matching.html">
                                <i class="fa fa-check"></i> <b>1.4.</b> Matching Methods
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.5" data-path="intro/balance.html">
                            
                            <a href="./intro/balance.html">
                                <i class="fa fa-check"></i> <b>1.5.</b> Balance
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.6" data-path="intro/effects.html">
                            
                            <a href="./intro/effects.html">
                                <i class="fa fa-check"></i> <b>1.6.</b> Estimating Treatment Effects
                            </a>
                            
                        </li>
                    
                        <li  data-level="1.7" data-path="intro/visualizations.html">
                            
                            <a href="./intro/visualizations.html">
                                <i class="fa fa-check"></i> <b>1.7.</b> Visualizing Results
                            </a>
                            
                        </li>
                    
                </ul>
                
            </li>
        
            <li  data-level="2" data-path="sensitivity/sensitivity.html">
                
                <a href="./sensitivity/sensitivity.html">
                    <i class="fa fa-check"></i> <b>2.</b> Sensitivity Analysis
                </a>
                
                
            </li>
        
            <li  data-level="3" data-path="missing/missing.html">
                
                <a href="./missing/missing.html">
                    <i class="fa fa-check"></i> <b>3.</b> Missing Data
                </a>
                
                
            </li>
        
            <li  data-level="4" data-path="bootstrapping/psaboot.html">
                
                <a href="./bootstrapping/psaboot.html">
                    <i class="fa fa-check"></i> <b>4.</b> Boostrapping
                </a>
                
                
            </li>
        
            <li  data-level="5" data-path="multilevel/multilevelpsa.html">
                
                <a href="./multilevel/multilevelpsa.html">
                    <i class="fa fa-check"></i> <b>5.</b> Multilevel PSA
                </a>
                
                
            </li>
        
            <li  data-level="6" data-path="nonbinary/trimatch.html">
                
                <a href="./nonbinary/trimatch.html">
                    <i class="fa fa-check"></i> <b>6.</b> Non-Binary Treatments
                </a>
                
                
            </li>
        
            <li  data-level="7" data-path="references.html">
                
                <a href="./references.html">
                    <i class="fa fa-check"></i> <b>7.</b> References
                </a>
                
                
            </li>
        

        
        <li class="divider"></li>
        <li>
            <a href="http://www.gitbook.io/" target="blank">Generated using GitBook</a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="page-wrapper" tabindex="-1">
                <div class="book-progress">
    <div class="bar">
        <div class="inner" style="width: 0%;min-width: 0%;"></div>
    </div>
    <div class="chapters">
    
        <a href="./index.html" title="Introduction" class="chapter done new-chapter" data-progress="0" style="left: 0%;"></a>
    
        <a href="./intro/intro.html" title="Overview" class="chapter  new-chapter" data-progress="1" style="left: 7.142857142857143%;"></a>
    
        <a href="./intro/experiments.html" title="Randomize Experiments" class="chapter  " data-progress="1.1" style="left: 14.285714285714286%;"></a>
    
        <a href="./intro/estimating.html" title="Estimating Propensity Scores" class="chapter  " data-progress="1.2" style="left: 21.428571428571427%;"></a>
    
        <a href="./intro/stratification.html" title="Stratification" class="chapter  " data-progress="1.3" style="left: 28.571428571428573%;"></a>
    
        <a href="./intro/matching.html" title="Matching Methods" class="chapter  " data-progress="1.4" style="left: 35.714285714285715%;"></a>
    
        <a href="./intro/balance.html" title="Balance" class="chapter  " data-progress="1.5" style="left: 42.857142857142854%;"></a>
    
        <a href="./intro/effects.html" title="Estimating Treatment Effects" class="chapter  " data-progress="1.6" style="left: 50%;"></a>
    
        <a href="./intro/visualizations.html" title="Visualizing Results" class="chapter  " data-progress="1.7" style="left: 57.142857142857146%;"></a>
    
        <a href="./sensitivity/sensitivity.html" title="Sensitivity Analysis" class="chapter  new-chapter" data-progress="2" style="left: 64.28571428571429%;"></a>
    
        <a href="./missing/missing.html" title="Missing Data" class="chapter  new-chapter" data-progress="3" style="left: 71.42857142857143%;"></a>
    
        <a href="./bootstrapping/psaboot.html" title="Boostrapping" class="chapter  new-chapter" data-progress="4" style="left: 78.57142857142857%;"></a>
    
        <a href="./multilevel/multilevelpsa.html" title="Multilevel PSA" class="chapter  new-chapter" data-progress="5" style="left: 85.71428571428571%;"></a>
    
        <a href="./nonbinary/trimatch.html" title="Non-Binary Treatments" class="chapter  new-chapter" data-progress="6" style="left: 92.85714285714286%;"></a>
    
        <a href="./references.html" title="References" class="chapter  new-chapter" data-progress="7" style="left: 100%;"></a>
    
    </div>
</div>

                <div class="page-inner">
                
                    <section class="normal" id="section-gitbook_1">
                    
                        <h1 id="applied-propensity-score-analysis-with-r">Applied Propensity Score Analysis with R</h1>
<p>Author: Jason Bryer (<a href="&#x6d;&#97;&#105;&#108;&#x74;&#111;&#58;&#106;&#97;&#115;&#x6f;&#110;&#64;&#x62;&#x72;&#x79;&#x65;&#114;&#x2e;&#111;&#114;&#103;">&#106;&#97;&#115;&#x6f;&#110;&#64;&#x62;&#x72;&#x79;&#x65;&#114;&#x2e;&#111;&#114;&#103;</a>)<br>Website: <a href="http://jason.bryer.org/psa/" target="_blank">http://jason.bryer.org/psa/</a><br>Github Repository: <a href="https://github.com/jbryer/psa" target="_blank">https://github.com/jbryer/psa</a>  </p>
<hr>
<p>The use of propensity score methods [@RosenbaumRubin1983] (Rosenbaum &amp; Rubin, 1983) for estimating causal effects in observational studies or certain kinds of quasi-experiments has been increasing in the social sciences (Thoemmes &amp; Kim, 2011) and in medical research (Austin, 2008) in the last decade. Propensity score analysis (PSA) attempts to adjust selection bias that occurs due to the lack of randomization. Analysis is typically conducted in two phases where in phase I, the probability of placement in the treatment is estimated to identify matched pairs or clusters so that in phase II, comparisons on the dependent variable can be made between matched pairs or within clusters. R (R Core Team, 2012) is ideal for conducting PSA given its wide availability of the most current statistical methods vis-Ã -vis add-on packages as well as its superior graphics capabilities.</p>
<h2 id="r">R</h2>
<p>To reproduce the analysis described in this book you will need R. R is available for Mac, Linux, and Windows and can be downloaded at <a href="http://cran.r-project.org" target="_blank">cran.r-project.org</a>. I also recommend that you download <a href="http://rstudio.com" target="_blank">Rstudio</a>. This is an integrated development environment that makes working on R projects much easier.</p>
<p>If you are new to R, here are some excellent resources for learning R:</p>
<ul>
<li><a href="http://statmethods.net/" target="_blank">Quick-R</a> - A great website maintined by Robert Kabacoff. I also highly his book, <a href="http://www.manning.com/kabacoff/" target="_blank">R in Action</a>.</li>
<li><a href="http://www.rdocumentation.org/" target="_blank">RDocumentation.org</a> - Provides a nice searchable interface for all the R packages available.</li>
</ul>
<h2 id="r-packages">R Packages</h2>
<p>There are a number of R packages available for conducting propensity score analysis. We will utilize the following R packages:</p>
<ul>
<li><a href="http://gking.harvard.edu/gking/matchit" target="_blank"><code>MatchIt</code></a> (Ho, Imai, King, &amp; Stuart, 2011) Nonparametric Preprocessing for Parametric Causal Inference</li>
<li><a href="http://sekhon.berkeley.edu/matching/" target="_blank"><code>Matching</code></a> (Sekhon, 2011) Multivariate and Propensity Score Matching Software for Causal Inference</li>
<li><a href="http://jason.bryer.org/multilevelPSA" target="_blank"><code>multilevelPSA</code></a> (Bryer &amp; Pruzek, 2011) Multilevel Propensity Score Analysis</li>
<li><a href="http://cran.r-project.org/web/packages/party/index.html" target="_blank"><code>party</code></a> (Hothorn, Hornik, &amp; Zeileis, 2006) A Laboratory for Recursive Partytioning</li>
<li><a href="http://jason.bryer.org/PSAboot" target="_blank"><code>PSAboot</code></a> (Bryer, 2013) Bootstrapping for Propensity Score Analysis</li>
<li><a href="http://www.jstatsoft.org/v29/i06/paper" target="_blank"><code>PSAgraphics</code></a> (Helmreich &amp; Pruzek, 2009) An R Package to Support Propensity Score Analysis</li>
<li><a href="http://www.personal.psu.edu/ljk20/rbounds%20vignette.pdf" target="_blank"><code>rbounds</code></a> (Keele, 2010) An Overview of rebounds: An R Package for Rosenbaum bounds sensitivity analysis with matched data.</li>
<li><a href="http://cran.r-project.org/web/packages/rpart/index.html" target="_blank"><code>rpart</code></a> (Therneau, Atkinson, &amp; Ripley, 2012) Recursive Partitioning</li>
<li><a href="http://jason.bryer.org/TriMatch" target="_blank"><code>TriMatch</code></a> (Bryer, 2013) Propensity Score Matching for Non-Binary Treatments</li>
</ul>
<p>The following command will install the R packages we will use in this book.</p>
<pre><code>install.packages(c(&#39;devtools&#39;,&#39;ggplot2&#39;,&#39;granova&#39;,&#39;granovaGG&#39;,&#39;gridExtra&#39;,
                   &#39;Matching&#39;,&#39;MatchIt&#39;,&#39;party&#39;,&#39;PSAgraphics&#39;,&#39;rbounds&#39;,
                   &#39;rpart&#39;), 
                 repos=&#39;http://cran.r-project.org&#39;)
devtools::install_github(&#39;multilevelPSA&#39;, &#39;jbryer&#39;)
devtools::install_github(&#39;TriMatch&#39;, &#39;jbryer&#39;)
devtools::install_github(&#39;PSAboot&#39;, &#39;jbryer&#39;)
</code></pre><hr>
<p>This book has been generated using <a href="http://gitbook.io" target="_blank">GitBook</a>. See <a href="http://jason.bryer.org/posts/2014-04-18/Gitbook_with_R_Markdown.html" target="_blank">this blog post</a> for how to use Gitbook with R Markdown.</p>

                    
                    </section>
                
                </div>
            </div>
        </div>

        
        
        <a href="./intro/intro.html" class="navigation navigation-next navigation-unique"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        

        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/ace.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.1.3/mode-javascript.js"></script>
        <script src="gitbook/jsrepl/jsrepl.js" id="jsrepl-script"></script>
        <script src="gitbook/app.js"></script>
        

    
    <script src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-mathjax/plugin.js"></script>
    

    
    <script src="gitbook/plugins/gitbook-plugin-mixpanel/plugin.js"></script>
    

<script>
require(["gitbook"], function(gitbook) {
    var config = {};
    gitbook.start(config);
});
</script>

    </body>
</html>
